\chapter{Desarrollo software del manipulador}
\label{cap:capitulo6}

\vspace{1cm}

En este capítulo se aborda el desarrollo necesario para, a partir de un concepto, acabar construyendo un prototipo real funcional. Se 
hace incisión en cada etapa necesaria para este cometido.

Poner fotito UML 

Escribe aquí un párrafo explicando brevemente lo que vas a contar en este capítulo. En este capítulo (y quizás alguno más) es donde, por fin, describes detalladamente qué has hecho y qué experimentos has llevado a cabo para validar tus desarrollos.

\section{Control de los actuadores}
En robótica, los actuadores son los componentes responsables de convertir las señales eléctricas/hidráulicas en movimiento físico. 
tipos de actuadores

\subsection{Control de motores paso a paso}
\label{subsec:control_pap}
hablar de gbl y lo q simplifica esto
del controlador hardware utilizado y que realizxa por debajo

Basado en paralelos

\section{Comunicación ordenador $\leftrightarrows$ robot}
En esta sección se examinarán las posibles opciones que existen para poder comunicar el ordenador con 
el robot.
Esta placa integra un MCU ESP32 con conectividad Wifi, además, incluye un puerto usb por el que se puede programar o mantener una 
comunicación serie. 
grbl wifi
grbl cable
biblioteca python usada
detalles de la comunicacion via codigo G
ejemplos de uso ugs 

\subsection{Adaptación de grbl para su uso en robótica}
GRBL tiene ciertas limitaciones a la hora de su utilización en robótica. Es normal, debido a que está pensado para controlar máquinas 
\acs{CNC} de 3 ejes prismáticos. Pese a esto, se pueden hacer ciertas modificaciones para adaptarlo a esta aplicación. 




\section{Integración con ROS 2}
En esta sección se detalla el proceso de integración de G-Arm en \acs{ROS}.
Implementar un robot en \acs{ROS} es una buena idea porque te brinda acceso a una comunidad activa y una serie de herramientas 
que permiten modularizar y reutilizar componentes de manera eficiente. Esto facilita el desarrollo y futuro despliegue de tu robot por 
cualquier persona que quiera tenerlo.

hablar de urdf y xacro
hablar de rviz y controladores

\subsection{\ac{URDF}}
Es un formato de archivo cuyo propósito es describir la estructura, cinemática y aspecto de un robot.  
Se trata de un estándar ampliamente utilizado en la comunidad de robótica, especialmente en \ac{ROS}.

En un archivo URDF, se especifica la geometría del robot mediante la definición de partes (links) y articulaciones (joints). 
Cada parte se describe mediante su forma y tamaño, mientras que las articulaciones definen las restricciones de movimiento y las relaciones entre los enlaces.
Además de esto, un archivo URDF también puede incluir información sobre la masa y la inercia de los enlaces, así como como texturas y modelos 3D.

El formato URDF se basa en el lenguaje \ac{XML}, lo que permite describir el robot de una forma estructurada y legible. Con la descripción 
en URDF, los robots pueden ser simulados, visualizados y controlados.

\section{Integración en MoveIt 2}
Con el fin de sacar el máximo partido de nuestro robot, es buena idea implementarlo también en MoveIt.
hablar setup assistant y particularidades urdf pa que vaya
\section{Pruebas}
En esta sección se pone a prueba los aspectos técnicos que determinan el desempeño y la fiabilidad del brazo robot. 
características.

\subsection{Estabilidad y vibración}
Este tipo de pruebas determinan como el movimiento del mismo afecta en su estabilidad y estructura. Además se determina el nivel de 
vibraciones no deseadas que puedan afectar su precisión y desempeño.
\begin{table}[H]
\begin{center}
\begin{tabular}{|c|c|}
\hline
\textbf{Parámetro} & \textbf{Valor} \\
\hline
Capacidad de carga máxima (completamente extendido) & $\pm9mm$\\
Capacidad de carga máxima (medio extendido) & $\pm9mm$\\
Capacidad de carga máxima (contraido) & $\pm9mm$\\
Capacidad de carga máxima (operativa) & $\pm9mm$\\
\hline
\end{tabular}
\caption{Evaluación de la estabilidad}
\label{cuadro:evaluacion_estabilidad}
\end{center}
\end{table}

\subsection{Capacidad de carga}
En este tipo de pruebas se evalua la capacidad del brazo a la hora de levantar diferentes pesos. De esta manera se puede determinar 
el límite de carga del brazo y verificar si puede manejar objetos de manera segura y eficiente sin perder capacidades.
\begin{table}[H]
\begin{center}
\begin{tabular}{|c|c|}
\hline
\textbf{Parámetro} & \textbf{Valor} \\
\hline
Capacidad de carga máxima (completamente extendido) & \SI{10}{\kilo\gram} \\
Capacidad de carga máxima (medio extendido) & \SI{10}{\gram} \\
Capacidad de carga máxima (contraido) & \SI{10}{\gram} \\
Capacidad de carga máxima (operativa) & \SI{10}{\gram} \\
\hline
\end{tabular}
\caption{Evaluación de la capacidad de carga}
\label{cuadro:evaluacion_carga}
\end{center}
\end{table}

Tablita de como afecta el peso a la precisión y demás

\subsection{Velocidad y tiempo de respuesta}
Es importante realizar este tipo de pruebas para evaluar las distintas velocidades que es capaz de manejar el brazo en la ejecución 
de diferentes movimientos. Además, se puede evaluar la capacidad del brazo para responder rápidamente a comandos y ajustar su 
velocidad rápidamente.

\begin{table}[H]
\begin{center}
\begin{tabular}{|c|c|}
\hline
\textbf{Parámetro} & \textbf{Valor} \\
\hline
Velocidad máxima & \SI{10}{\meter\per\second}\\
Aceleración máxima & \SI{10}{\meter\per\second}\\
Tiempo de respuesta (señal de la herramienta) & \SI{35}{\milli\second} \\
Tiempo de respuesta (movimiento del brazo) & \SI{35}{\milli\second} \\
\hline
\end{tabular}
\caption{Evaluación de la velocidad y tiempo de respuesta}
\label{cuadro:evaluacion_velocidad}
\end{center}
\end{table}

\subsection{Exactitud y repetitividad} 
Se procede a realiza pruebas para evaluar la precisión del brazo robot en la ejecución de movimientos y la repetibilidad 
de estos movimientos. Se mide la desviación del brazo robot en comparación con las coordenadas objetivo y verificar si 
es capaz de alcanzar de manera consistente los mismos puntos en un cierto número de intentos.


